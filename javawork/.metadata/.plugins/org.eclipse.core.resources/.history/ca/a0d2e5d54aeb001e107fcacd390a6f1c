package day0326;

import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;

/*
 * score.txt 를 읽어서 총개수와 총점, 평군을 구하시오
 * 단, 점수에 문자가 있는 경우에는 총개수에서 제외하고 총점에서도 제외하고 출력이 되도록 하야된다
 * 
 * Ex)
 * 개수: 13개
 * 총점: 990
 * 평균: 78.99
 */

public class Ex17_ExceptionMunje {
	
	static final String FILENAME = "C:\\naver0314\\score.txt";
	
	public static void readScore() {
        FileReader fr = null;
        int count = 0;
        int sum = 0;
        
        try {
            fr = new FileReader(FILENAME);
            System.out.println("** score 파일을 읽습니다 **");
            
            while (true) {
                // 파일의 내용을 한줄 씩 읽어온다
                int ch = fr.read();
                // 만약 더 이상 데이터가 없을 경우 -1 값이 반환된다
                if (ch == -1) {
                    break;
                }
                // 문자로 변환
                char c = (char) ch;
                // 숫자인지 확인
                if (Character.isDigit(c)) {
                    count++;
                    sum += Character.getNumericValue(c);
                }
            }
            
            System.out.println("개수: " + count + "개");
            System.out.println("총점: " + sum);
            System.out.println("평균: " + (double) sum / count);
        } catch (FileNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
            System.out.println("** score 파일이 없어요 **");
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } finally {
            // 나중에 열린 자원을 먼저 닫는다
            try {
                fr.close();
            } catch (IOException e) {
	}

	public static void main(String[] args) {
		// TODO Auto-generated method stub
	}

}
